# OmniAlpha: å…¨åœºæ™¯æ™ºèƒ½é‡åŒ–ç ”ç©¶ä¸äº¤æ˜“å¼•æ“

**OmniAlpha** æ˜¯ä¸€ä¸ªä¸“ä¸º A è‚¡å¸‚åœºè®¾è®¡çš„æ¨¡å—åŒ–é‡åŒ–äº¤æ˜“å¹³å°ã€‚å®ƒä¸ä»…é›†æˆäº†å®æ—¶è¡Œæƒ…è·å–ã€å†å²å›æµ‹å’Œæ¨¡æ‹Ÿç›˜æ‰§è¡Œï¼Œæ›´æ ¸å¿ƒçš„çªç ´åœ¨äºå…¶**åŒå¾ªç¯æ¶æ„**ï¼šå†…ç½®åŸºäºé—ä¼ ç®—æ³•ä¸å¼ºåŒ–å­¦ä¹ çš„ **AlphaGen å› å­æŒ–æ˜å·¥å‚**ï¼Œå¹¶é¢„ç•™äº† **LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰** æ¥å£ï¼Œç”¨äºè¯­ä¹‰æƒ…æ„Ÿåˆ†æä¸ç­–ç•¥è‡ªåŠ¨åŒ–ç”Ÿæˆã€‚

**æœ€æ–°æ¶æ„ (v2.0)**: é‡‡ç”¨ **FastAPI (åç«¯)** + **React (å‰ç«¯)** çš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›æ›´ä¸“ä¸šã€æµç•…çš„äº¤äº’ä½“éªŒã€‚åŒæ—¶ä¿ç•™äº†è½»é‡çº§çš„ Streamlit ç•Œé¢ä½œä¸ºå¿«é€ŸåŸå‹éªŒè¯å·¥å…·ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

*   **ğŸ–¥ï¸ ç°ä»£åŒ–å·¥ä½œå°**: åŸºäº **React + Tailwind CSS** æ‰“é€ çš„å…¨æ–° Web ç•Œé¢ï¼Œæ”¯æŒ AI æ™ºèƒ½é€‰è‚¡ã€Alpha å› å­åˆ†æã€å¤šç­–ç•¥æ‰«æã€‚
*   **ğŸš€ é«˜æ€§èƒ½åç«¯**: åŸºäº **FastAPI** çš„å¼‚æ­¥ API æœåŠ¡ï¼Œæ”¯æŒæµå¼å“åº”ï¼ˆStreaming Responseï¼‰å¤„ç†è€—æ—¶æ‰«æä»»åŠ¡ã€‚
*   **ğŸ› ï¸ æ¨¡å—åŒ–æ¶æ„**: é‡‡ç”¨ä¾èµ–å€’ç½®è®¾è®¡ï¼ŒData Providerã€Strategyã€Engine é«˜åº¦è§£è€¦ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚
*   **ğŸ“ˆ å¤šç»´åº¦ç­–ç•¥**: å†…ç½®å‡çº¿è¶‹åŠ¿ã€æ”¾é‡çªç ´ã€ä½ä¼°å€¼ã€é«˜æ¢æ‰‹ç­‰å¤šç§å®æˆ˜ç­–ç•¥ï¼Œæ”¯æŒè‡ªç”±ç»„åˆã€‚
*   **ğŸ¤– AI èµ‹èƒ½**: é›†æˆ LLM å¯¹è¯æ¥å£ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€é€‰è‚¡ ("å¸®æˆ‘æ‰¾ä¸€ä¸‹æœ€è¿‘ç¼©é‡ä¸‹è·Œçš„è‚¡ç¥¨")ã€‚
*   **ğŸ§ª å®Œæ•´æµ‹è¯•**: åŒ…å«å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ä¸ä»£ç è¦†ç›–ç‡æŠ¥å‘Šï¼Œç¡®ä¿æ ¸å¿ƒé€»è¾‘ç¨³å¥ã€‚

---

## ğŸ“š ç­–ç•¥åº“ (Strategy Library)

### æŠ€æœ¯é¢ç­–ç•¥ (Technical)
*   **`ma` (å‡çº¿è¶‹åŠ¿)**: æ•æ‰ä¸Šå‡é€šé“ä¸ªè‚¡ (Close > MA20 & MA5 > MA20 & æœ€è¿‘5æ—¥å‘ˆä¸Šå‡è¶‹åŠ¿)ã€‚
*   **`vol` (æ”¾é‡çªç ´)**: å¯»æ‰¾èµ„é‡‘å¼‚åŠ¨ (æ¶¨å¹… > 2% & é‡æ¯” > 1.5)ã€‚
*   **`turn` (é«˜æ¢æ‰‹)**: ç­›é€‰å¸‚åœºæ´»è·ƒæ ‡çš„ (æ¢æ‰‹ç‡ > 5% & éST)ã€‚

### åŸºæœ¬é¢ç­–ç•¥ (Fundamental)
*   **`pe` (ä½ä¼°å€¼)**: å¯»æ‰¾å®‰å…¨è¾¹é™… (0 < PE-TTM < 30)ã€‚
*   **`growth` (åŒé«˜å¢é•¿)**: æŒ–æ˜é«˜æˆé•¿æ½œåŠ› (å‡€åˆ©æ¶¦åŒæ¯” > 20%)ã€‚
*   **`roe` (é«˜ROE)**: é”å®šä¼˜è´¨èµ„äº§ (ROE > 15%)ã€‚
*   **`debt` (ä½è´Ÿå€º)**: è§„é¿è´¢åŠ¡é£é™© (èµ„äº§è´Ÿå€ºç‡ < 50%)ã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„ (Project Structure)

```text
OmniAlpha/
â”œâ”€â”€ backend/                # ğŸ **åç«¯æœåŠ¡ (FastAPI)**
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/            # API è·¯ç”±å®šä¹‰ (market, stock, scan, ai, alpha)
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒé…ç½®ä¸å·¥å…·
â”‚   â”‚   â””â”€â”€ main.py         # FastAPI åº”ç”¨å…¥å£
â”‚   â””â”€â”€ ...
â”œâ”€â”€ frontend/               # âš›ï¸ **å‰ç«¯åº”ç”¨ (React + Vite)**
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/            # API å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â”œâ”€â”€ components/     # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢è§†å›¾
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ strategies/             # ğŸ§  **ç­–ç•¥å®ç°å±‚** (Technical, Fundamental)
â”‚   â”œâ”€â”€ technical.py
â”‚   â”œâ”€â”€ fundamental.py
â”‚   â””â”€â”€ base.py
â”œâ”€â”€ core/                   # âš™ï¸ **æ ¸å¿ƒå¼•æ“** (Backtest, Analysis)
â”œâ”€â”€ data/                   # ğŸ’¾ **æ•°æ®å±‚** (Baostock Provider)
â”œâ”€â”€ tests/                  # ğŸ§ª **æµ‹è¯•å¥—ä»¶**
â”œâ”€â”€ web_ui.py               # ğŸ¦• **æ—§ç‰ˆç•Œé¢** (Streamlit, Legacy)
â”œâ”€â”€ main.py                 # ğŸ”§ **CLI å·¥å…·è„šæœ¬**
â”œâ”€â”€ requirements.txt        # ğŸ“¦ Python ä¾èµ–
â””â”€â”€ README.md               # ğŸ“„ é¡¹ç›®æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1. ç¯å¢ƒå‡†å¤‡ (Prerequisites)

*   **Python**: >= 3.8 (æ¨èä½¿ç”¨ venv æˆ– conda)
*   **Node.js**: >= 16 (ç”¨äºå‰ç«¯å¼€å‘)

### 2. å®‰è£…ä¸é…ç½® (Installation)

é¦–å…ˆï¼Œå…‹éš†é¡¹ç›®åˆ°æœ¬åœ°ï¼š

```bash
git clone https://github.com/YourUsername/OmniAlpha.git
cd OmniAlpha
```

**å®‰è£… Python ä¾èµ– (Root Directory)**:

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (å¯é€‰ä½†æ¨è)
python -m venv venv
source venv/bin/activate  # macOS/Linux
# venv\Scripts\activate   # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

**å®‰è£…å‰ç«¯ä¾èµ–**:

```bash
cd frontend
npm install
# æˆ–è€…ä½¿ç”¨ pnpm / yarn
```

---

## â–¶ï¸ è¿è¡Œé¡¹ç›® (Usage)

æ‚¨å¯ä»¥é€‰æ‹©è¿è¡Œå…¨åŠŸèƒ½çš„ Web åº”ç”¨ï¼Œæˆ–è€…ä½¿ç”¨è½»é‡çº§çš„å·¥å…·è„šæœ¬ã€‚

### æ–¹å¼ A: å…¨æ ˆæ¨¡å¼ (FastAPI + React) - **æ¨è**

æˆ‘ä»¬éœ€è¦åŒæ—¶å¯åŠ¨åç«¯ API æœåŠ¡å’Œå‰ç«¯é¡µé¢ã€‚

**1. å¯åŠ¨åç«¯ (Backend)**

åœ¨é¡¹ç›®**æ ¹ç›®å½•**ä¸‹æ‰§è¡Œï¼š

```bash
# ç¡®ä¿åœ¨ OmniAlpha/ æ ¹ç›®å½•
uvicorn backend.app.main:app --reload --port 8000
```
åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ (æ–‡æ¡£: `/docs`)ã€‚

**2. å¯åŠ¨å‰ç«¯ (Frontend)**

æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ï¼Œè¿›å…¥ `frontend` ç›®å½•æ‰§è¡Œï¼š

```bash
cd frontend
npm run dev
```
å‰ç«¯é¡µé¢å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

### æ–¹å¼ B: è½»é‡çº§æ¨¡å¼ (Legacy Streamlit)

å¦‚æœæ‚¨åªéœ€è¦å¿«é€ŸéªŒè¯é€‰è‚¡é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨æ—§ç‰ˆçš„ Streamlit ç•Œé¢ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
streamlit run web_ui.py
```

### æ–¹å¼ C: å‘½ä»¤è¡Œæ¨¡å¼ (CLI Script)

ç”¨äºæ— ç•Œé¢æµ‹è¯•æ•°æ®æ¥å£æˆ–å›æµ‹é€»è¾‘ï¼š

```bash
python main.py
```

---

## ğŸ§ª æµ‹è¯• (Testing)

é¡¹ç›®åŒ…å«å®Œå–„çš„æµ‹è¯•å¥—ä»¶ã€‚ç¡®ä¿æ‚¨å·²å®‰è£… `pytest` å’Œç›¸å…³æ’ä»¶ (åŒ…å«åœ¨ requirements.txt ä¸­)ã€‚

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
pytest tests/unit/test_technical_strategies.py

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=. --cov-report=html
```

---

## ğŸ“… å¼€å‘è®¡åˆ’ (Roadmap)

*   [x] **Phase 1**: æ ¸å¿ƒå¼•æ“é‡æ„ä¸æ¨¡å—åŒ–ã€‚
*   [x] **Phase 2**: å»ºç«‹ Data-Alpha-Backtest åˆ†å±‚æ¶æ„ã€‚
*   [x] **Phase 3**: **æ¶æ„é‡æ„**: è¿ç§»è‡³ FastAPI + React å‰åç«¯åˆ†ç¦»æ¶æ„ (Completed 2026-01-14)ã€‚
*   [ ] **Phase 4**: å®Œå–„ `BacktestEngine`ï¼Œå®ç°çœŸå®çš„æ’®åˆé€»è¾‘ä¸ç»©æ•ˆç»Ÿè®¡ã€‚
*   [ ] **Phase 5**: å®Œå–„ AI æ¨¡å—ï¼Œå®ç° "Text-to-Strategy" è‡ªåŠ¨ä»£ç ç”Ÿæˆã€‚

---

## ğŸ¤ è´¡çŒ®ä¸åé¦ˆ

æ¬¢è¿æäº¤ Issue æˆ– Pull Requestï¼

**License**: MIT